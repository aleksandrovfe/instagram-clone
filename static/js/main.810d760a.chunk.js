(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{60:function(e,a,t){e.exports=t(79)},65:function(e,a,t){},79:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),o=t.n(c),s=t(13),l=(t(65),t(21)),m=t.n(l),u=m.a.initializeApp({apiKey:"AIzaSyCVZDGLd9jl_I6aNkyH2S6rOSeol1iVung",authDomain:"insta-gram-56ef1.firebaseapp.com",databaseURL:"https://insta-gram-56ef1.firebaseio.com",projectId:"insta-gram-56ef1",storageBucket:"insta-gram-56ef1.appspot.com",messagingSenderId:"1099332335404",appId:"1:1099332335404:web:400bfab31dfd4a83e6de89",measurementId:"G-JW3VKTMFWZ"}).firestore(),i=m.a.auth(),p=m.a.storage(),d=t(116),g=t(113),f=t(115),E=t(109),_=function(e){var a=e.setOpenNewpost,t=e.userName,c=Object(n.useState)(""),o=Object(s.a)(c,2),l=o[0],i=o[1],d=Object(n.useState)(""),g=Object(s.a)(d,2),_=g[0],v=g[1],b=Object(n.useState)(0),N=Object(s.a)(b,2),h=N[0],j=N[1];return r.a.createElement("div",{className:"uploader"},r.a.createElement("div",{className:"uploader__wrapper"},r.a.createElement(E.a,{type:"text",placeholder:"Enter a caption...",onChange:function(e){return i(e.target.value)},value:l,className:"uploader__item uploader__caption"}),r.a.createElement(E.a,{className:"uploader__item",type:"file",onChange:function(e){e.target.files[0]&&v(e.target.files[0])}}),r.a.createElement(f.a,{className:"uploader__item",onClick:function(){p.ref("images/".concat(_.name)).put(_).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);j(a)}),(function(e){return console.log(e)}),(function(){p.ref("images").child(_.name).getDownloadURL().then((function(e){u.collection("posts").add({timestamp:m.a.firestore.FieldValue.serverTimestamp(),caption:l,ImageUrl:e,userName:t}),j(0),i(""),v(null)}))})),a(!1)}},"Upload")),r.a.createElement("progress",{className:"uploader__progress",value:h,max:"100"}))},v=t(117),b=function(e){var a=e.comments;return r.a.createElement("div",null,a.map((function(e){var a=e.id,t=e.comment;return r.a.createElement("p",{className:"comments__text",key:a},r.a.createElement("strong",null,t.userName)," ",t.text)})))},N=function(e){var a=e.user,t=e.comment,n=e.setComment,c=e.postComment;return r.a.createElement("div",null,a?r.a.createElement("form",{className:"post__form-add-comment"},r.a.createElement(E.a,{className:"post__input-comment",type:"text",placeholder:"Add a comment...",value:t,onChange:function(e){return n(e.target.value)}}),r.a.createElement(f.a,{className:"post__btn-add-comment",disabled:!t,type:"submit",onClick:c},"post")):null)},h=function(e){var a=e.user,t=e.postId,c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],i=o[1],p=Object(n.useState)(""),d=Object(s.a)(p,2),g=d[0],f=d[1];return Object(n.useEffect)((function(){var e;return t&&(e=u.collection("posts").doc(t).collection("comments").orderBy("timestamp","desc").onSnapshot((function(e){i(e.docs.map((function(e){return{comment:e.data(),id:e.id}})))}))),function(){e()}}),[t]),r.a.createElement("div",null,r.a.createElement(b,{comments:l}),r.a.createElement(N,{postComment:function(e){e.preventDefault(),u.collection("posts").doc(t).collection("comments").add({text:g,userName:a.displayName,timestamp:m.a.firestore.FieldValue.serverTimestamp()}),f("")},user:a,setComment:f,comment:g}))},j=function(e){var a=e.user,t=e.postId,n=e.userName,c=e.imageUrl,o=e.caption;return r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"post__header"},r.a.createElement(v.a,{className:"post__avatar",alt:"username",src:"/assets/5.jpg"}),r.a.createElement("h3",{className:"post__user-name"},n)),r.a.createElement("img",{className:"post__image",src:c,alt:""}),r.a.createElement("h4",{className:"post__text"},r.a.createElement("strong",null,n,": "),o),r.a.createElement(h,{user:a,postId:t}))},O=function(e){var a=e.user,t=e.postId,n=e.userName,c=e.imageUrl,o=e.caption;return r.a.createElement(j,{postId:t,user:a,userName:n,imageUrl:c,caption:o})},y=t(114);function S(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var C=Object(g.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var w=function(){var e=C(),a=Object(n.useState)(S),t=Object(s.a)(a,1)[0],c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],m=o[1],p=Object(n.useState)(!1),g=Object(s.a)(p,2),E=g[0],b=g[1],N=Object(n.useState)(!1),h=Object(s.a)(N,2),j=h[0],w=h[1],I=Object(n.useState)(!1),k=Object(s.a)(I,2),x=k[0],U=k[1],L=Object(n.useState)(""),A=Object(s.a)(L,2),D=A[0],B=A[1],P=Object(n.useState)(""),V=Object(s.a)(P,2),F=V[0],T=V[1],W=Object(n.useState)(""),J=Object(s.a)(W,2),M=J[0],z=J[1],G=Object(n.useState)(null),K=Object(s.a)(G,2),R=K[0],Z=K[1];return Object(n.useEffect)((function(){var e=i.onAuthStateChanged((function(e){Z(e||null)}));return function(){e()}}),[R,D]),Object(n.useEffect)((function(){u.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){m(e.docs.map((function(e){return{id:e.id,post:e.data()}})))})),U(!1)}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(d.a,{open:E,onClose:function(){return b(!1)}},r.a.createElement("div",{style:t,className:e.paper},r.a.createElement("form",{className:"app__modal"},r.a.createElement("img",{className:"app__modal-image",src:"https://logos-world.net/wp-content/uploads/2020/04/Instagram-Logo.png",alt:"logo"}),r.a.createElement(y.a,{placeholder:"User name",type:"text",value:D,onChange:function(e){return B(e.target.value)}}),r.a.createElement(y.a,{placeholder:"Email",type:"text",value:F,onChange:function(e){return T(e.target.value)}}),r.a.createElement(y.a,{placeholder:"Password",type:"password",value:M,onChange:function(e){return z(e.target.value)}}),r.a.createElement(f.a,{disabled:!D,onClick:function(e){e.preventDefault(),i.createUserWithEmailAndPassword(F,M).then((function(e){return e.user.updateProfile({displayName:D})})).catch((function(e){return alert(e.message)})),b(!1)}},"Sign up")))),r.a.createElement(d.a,{open:j,onClose:function(){return w(!1)}},r.a.createElement("div",{style:t,className:e.paper},r.a.createElement("form",{className:"app__modal"},r.a.createElement("img",{className:"app__modal-image",src:"https://logos-world.net/wp-content/uploads/2020/04/Instagram-Logo.png",alt:"logo"}),r.a.createElement(y.a,{placeholder:"Email",type:"text",value:F,onChange:function(e){return T(e.target.value)}}),r.a.createElement(y.a,{placeholder:"Password",type:"password",value:M,onChange:function(e){return z(e.target.value)}}),r.a.createElement(f.a,{onClick:function(e){e.preventDefault(),i.signInWithEmailAndPassword(F,M).catch((function(e){return alert(e.message)})),w(!1)}},"Sign In")))),r.a.createElement("header",{className:"app__header"},r.a.createElement("div",{className:"app__header-login"},r.a.createElement("img",{className:"app__header-image",src:"https://logos-world.net/wp-content/uploads/2020/04/Instagram-Logo.png",alt:"logo"}),R?r.a.createElement("div",{className:"app__header-login-wrapper"},r.a.createElement(v.a,{className:"post__avatar",alt:"username",src:"/assets/5.jpg"}),r.a.createElement("p",{className:"app__user-name"},R.displayName),r.a.createElement(f.a,{onClick:function(){return U(!0)}},"New post")):null),R?r.a.createElement(f.a,{onClick:function(){return i.signOut()}},"Logout"):r.a.createElement("div",null,r.a.createElement(f.a,{onClick:function(){return w(!0)}},"Sign in"),r.a.createElement(f.a,{onClick:function(){return b(!0)}},"Sign up"))),r.a.createElement("section",{className:"app__body"},r.a.createElement(d.a,{open:x,onClose:function(){return U(!1)}},r.a.createElement("div",{style:t,className:e.paper},(null===R||void 0===R?void 0:R.displayName)?r.a.createElement(_,{setOpenNewpost:U,userName:R.displayName}):r.a.createElement("h3",{className:"app__body-upload-unauth"},"Log in to upload"))),l.map((function(e){var a=e.id,t=e.post;return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(O,{user:R,postId:a,userName:t.userName,caption:t.caption,imageUrl:t.ImageUrl}))}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.810d760a.chunk.js.map